// ─── Demo seed data — mirrors real API response shapes ────────────────────────
// Represents "Sparkle Clean Co." — a mid-size residential + commercial
// cleaning company based in Chicago, IL.

// ─── Date helpers ─────────────────────────────────────────────────────────────
const today = new Date()
const d = (offsetDays, h = 9, m = 0) => {
  const dt = new Date(today)
  dt.setDate(dt.getDate() + offsetDays)
  dt.setHours(h, m, 0, 0)
  return dt.toISOString()
}
const dateStr = (offsetDays) => {
  const dt = new Date(today)
  dt.setDate(dt.getDate() + offsetDays)
  return dt.toISOString().slice(0, 10)
}

// ─── Shared IDs ───────────────────────────────────────────────────────────────
export const DEMO_USER_ID = "demo-user-001"

export const DEMO_USER = {
  id: DEMO_USER_ID,
  role: "admin",
  teamMemberRole: "admin",
  permissions: JSON.stringify({ all: true }),
  businessName: "Sparkle Clean Co.",
  business_name: "Sparkle Clean Co.",
  email: "demo@sparkleclean.com",
  name: "Alex Rivera",
  firstName: "Alex",
  lastName: "Rivera",
  phone: "(312) 555-0100",
  profilePicture: null,
  slug: "sparkleclean",
  address: "233 S Wacker Dr, Chicago, IL 60606",
  website: "https://sparkleclean.com",
  taxId: "82-4512390",
  currency: "USD",
  timezone: "America/Chicago",
  subscriptionPlan: "pro",
  createdAt: "2023-09-01T00:00:00.000Z",
}

// ─── Territories ──────────────────────────────────────────────────────────────
export const DEMO_TERRITORIES = [
  {
    _id: "t1", userId: DEMO_USER_ID,
    name: "Downtown / Loop",
    zipCodes: ["60601", "60602", "60603", "60604", "60605", "60606"],
    color: "#3B82F6", active: true,
    jobCount: 38, teamMemberCount: 4,
    adjustmentType: "percentage", adjustmentValue: 5,
    notes: "High-density commercial zone — expect parking fees.",
  },
  {
    _id: "t2", userId: DEMO_USER_ID,
    name: "North Side",
    zipCodes: ["60610", "60611", "60614", "60657", "60618"],
    color: "#10B981", active: true,
    jobCount: 29, teamMemberCount: 3,
    adjustmentType: "none", adjustmentValue: 0,
    notes: "Mostly residential condos and apartments.",
  },
  {
    _id: "t3", userId: DEMO_USER_ID,
    name: "South Loop / Pilsen",
    zipCodes: ["60605", "60616", "60608"],
    color: "#F59E0B", active: true,
    jobCount: 17, teamMemberCount: 2,
    adjustmentType: "none", adjustmentValue: 0,
    notes: "Growing residential market.",
  },
  {
    _id: "t4", userId: DEMO_USER_ID,
    name: "West Loop / River North",
    zipCodes: ["60607", "60654", "60661"],
    color: "#8B5CF6", active: true,
    jobCount: 22, teamMemberCount: 3,
    adjustmentType: "percentage", adjustmentValue: 8,
    notes: "Premium restaurant and office district.",
  },
]

// ─── Team members ─────────────────────────────────────────────────────────────
export const DEMO_TEAM = [
  {
    _id: "tm1", userId: DEMO_USER_ID,
    firstName: "Maria", lastName: "Santos", name: "Maria Santos",
    email: "maria@sparkleclean.com", phone: "(312) 555-0201",
    role: "cleaner", status: "active",
    payRate: 22, payType: "hourly",
    territories: ["t1", "t2"],
    skills: ["Deep Clean", "Move-Out", "Eco-Friendly"],
    rating: 4.9, jobsCompleted: 184,
    profilePicture: null,
    availability: { monday: true, tuesday: true, wednesday: true, thursday: true, friday: true, saturday: false, sunday: false },
    address: "1440 N Lake Shore Dr, Chicago, IL 60610",
    startDate: "2023-10-12",
    notes: "Top performer. Clients specifically request her.",
  },
  {
    _id: "tm2", userId: DEMO_USER_ID,
    firstName: "James", lastName: "Kim", name: "James Kim",
    email: "james@sparkleclean.com", phone: "(312) 555-0202",
    role: "cleaner", status: "active",
    payRate: 20, payType: "hourly",
    territories: ["t1", "t4"],
    skills: ["Office Clean", "Standard Clean", "Window Cleaning"],
    rating: 4.7, jobsCompleted: 117,
    profilePicture: null,
    availability: { monday: true, tuesday: true, wednesday: false, thursday: true, friday: true, saturday: true, sunday: false },
    address: "730 S Wabash Ave, Chicago, IL 60605",
    startDate: "2024-01-08",
    notes: "Great with commercial clients.",
  },
  {
    _id: "tm3", userId: DEMO_USER_ID,
    firstName: "Sofia", lastName: "Reyes", name: "Sofia Reyes",
    email: "sofia@sparkleclean.com", phone: "(312) 555-0203",
    role: "cleaner", status: "active",
    payRate: 21, payType: "hourly",
    territories: ["t2", "t3"],
    skills: ["Deep Clean", "Standard Clean", "Window Cleaning", "Move-Out"],
    rating: 4.8, jobsCompleted: 143,
    profilePicture: null,
    availability: { monday: false, tuesday: true, wednesday: true, thursday: true, friday: true, saturday: true, sunday: false },
    address: "2340 W Diversey Ave, Chicago, IL 60647",
    startDate: "2024-02-20",
    notes: "Reliable, great reviews for deep cleans.",
  },
  {
    _id: "tm4", userId: DEMO_USER_ID,
    firstName: "Derek", lastName: "Osei", name: "Derek Osei",
    email: "derek@sparkleclean.com", phone: "(312) 555-0204",
    role: "supervisor", status: "active",
    payRate: 28, payType: "hourly",
    territories: ["t1", "t2", "t3", "t4"],
    skills: ["Deep Clean", "Standard Clean", "Move-Out", "Office Clean", "Quality Control"],
    rating: 5.0, jobsCompleted: 241,
    profilePicture: null,
    availability: { monday: true, tuesday: true, wednesday: true, thursday: true, friday: true, saturday: false, sunday: false },
    address: "567 W Jackson Blvd, Chicago, IL 60661",
    startDate: "2023-09-15",
    notes: "Team lead. Handles escalations and training.",
  },
  {
    _id: "tm5", userId: DEMO_USER_ID,
    firstName: "Priya", lastName: "Nair", name: "Priya Nair",
    email: "priya@sparkleclean.com", phone: "(312) 555-0205",
    role: "cleaner", status: "inactive",
    payRate: 19, payType: "hourly",
    territories: ["t3"],
    skills: ["Standard Clean"],
    rating: 4.5, jobsCompleted: 52,
    profilePicture: null,
    availability: { monday: true, tuesday: false, wednesday: true, thursday: false, friday: true, saturday: false, sunday: false },
    address: "1100 S Wabash Ave, Chicago, IL 60605",
    startDate: "2024-06-01",
    notes: "Currently on leave.",
  },
  {
    _id: "tm6", userId: DEMO_USER_ID,
    firstName: "Liam", lastName: "O'Brien", name: "Liam O'Brien",
    email: "liam@sparkleclean.com", phone: "(312) 555-0206",
    role: "cleaner", status: "active",
    payRate: 21, payType: "hourly",
    territories: ["t1", "t4"],
    skills: ["Office Clean", "Standard Clean", "Window Cleaning"],
    rating: 4.6, jobsCompleted: 68,
    profilePicture: null,
    availability: { monday: true, tuesday: true, wednesday: true, thursday: false, friday: true, saturday: true, sunday: false },
    address: "400 N Michigan Ave, Chicago, IL 60611",
    startDate: "2024-09-03",
    notes: "Joined from competitor — strong window cleaning skills.",
  },
]

// ─── Services ─────────────────────────────────────────────────────────────────
export const DEMO_SERVICES = [
  {
    _id: "svc1", userId: DEMO_USER_ID,
    name: "Standard Clean", category: "Residential",
    description: "Regular maintenance cleaning — perfect for weekly or bi-weekly visits. Includes all surfaces, floors, bathrooms, and kitchen.",
    price: 120, duration: 2, durationUnit: "hours",
    active: true, bookable: true, popular: true,
    minPrice: 95, maxPrice: 175,
    modifiers: [
      { _id: "mod1", name: "Extra Bathroom", price: 15, type: "add-on" },
      { _id: "mod2", name: "Inside Oven", price: 20, type: "add-on" },
      { _id: "mod3", name: "Balcony / Patio", price: 25, type: "add-on" },
    ],
    intakeQuestions: [
      { question: "How many bedrooms?", type: "select", options: ["Studio", "1BR", "2BR", "3BR", "4BR+"] },
      { question: "Do you have pets?", type: "yesno" },
    ],
    bookingCount: 312,
    revenue: 37440,
  },
  {
    _id: "svc2", userId: DEMO_USER_ID,
    name: "Deep Clean", category: "Residential",
    description: "Thorough top-to-bottom clean including inside appliances, baseboards, light fixtures, and behind furniture.",
    price: 220, duration: 4, durationUnit: "hours",
    active: true, bookable: true, popular: true,
    minPrice: 180, maxPrice: 320,
    modifiers: [
      { _id: "mod4", name: "Inside Fridge", price: 25, type: "add-on" },
      { _id: "mod5", name: "Window Interior", price: 30, type: "add-on" },
      { _id: "mod6", name: "Laundry (wash + fold)", price: 35, type: "add-on" },
    ],
    intakeQuestions: [
      { question: "How many bedrooms?", type: "select", options: ["Studio", "1BR", "2BR", "3BR", "4BR+"] },
      { question: "Last time professionally cleaned?", type: "select", options: ["Never", "6+ months ago", "1-6 months ago", "Recently"] },
    ],
    bookingCount: 148,
    revenue: 32560,
  },
  {
    _id: "svc3", userId: DEMO_USER_ID,
    name: "Move-In / Move-Out", category: "Residential",
    description: "Complete empty-home cleaning for tenants or home-sellers. Every surface, cabinet, and appliance is cleaned to landlord standard.",
    price: 280, duration: 5, durationUnit: "hours",
    active: true, bookable: true, popular: false,
    minPrice: 220, maxPrice: 420,
    modifiers: [
      { _id: "mod7", name: "Garage", price: 40, type: "add-on" },
      { _id: "mod8", name: "Carpet Steam Clean", price: 60, type: "add-on" },
      { _id: "mod9", name: "Exterior Windows", price: 45, type: "add-on" },
    ],
    intakeQuestions: [
      { question: "Move-in or move-out?", type: "select", options: ["Move-In", "Move-Out"] },
      { question: "Square footage?", type: "text" },
    ],
    bookingCount: 67,
    revenue: 18760,
  },
  {
    _id: "svc4", userId: DEMO_USER_ID,
    name: "Office Cleaning", category: "Commercial",
    description: "Professional office cleaning — desks, restrooms, kitchen, and common areas. Available after hours.",
    price: 180, duration: 3, durationUnit: "hours",
    active: true, bookable: true, popular: false,
    minPrice: 140, maxPrice: 400,
    modifiers: [
      { _id: "mod10", name: "Conference Rooms (+2)", price: 30, type: "add-on" },
      { _id: "mod11", name: "After-Hours Premium", price: 25, type: "add-on" },
      { _id: "mod12", name: "Floor Polishing", price: 50, type: "add-on" },
    ],
    intakeQuestions: [
      { question: "Number of desks?", type: "select", options: ["1-10", "11-25", "26-50", "50+"] },
      { question: "Preferred cleaning time?", type: "select", options: ["Morning", "Afternoon", "Evening", "After Hours"] },
    ],
    bookingCount: 94,
    revenue: 16920,
  },
  {
    _id: "svc5", userId: DEMO_USER_ID,
    name: "Airbnb Turnover", category: "Residential",
    description: "Fast, reliable turnovers between guests — fresh linens, restock supplies, full clean, and photo-ready finish.",
    price: 95, duration: 1.5, durationUnit: "hours",
    active: true, bookable: true, popular: true,
    minPrice: 75, maxPrice: 150,
    modifiers: [
      { _id: "mod13", name: "Linen Service", price: 20, type: "add-on" },
      { _id: "mod14", name: "Supplies Restock", price: 15, type: "add-on" },
    ],
    intakeQuestions: [
      { question: "Number of bedrooms?", type: "select", options: ["Studio", "1BR", "2BR", "3BR"] },
    ],
    bookingCount: 56,
    revenue: 5320,
  },
]

// ─── Customers ────────────────────────────────────────────────────────────────
export const DEMO_CUSTOMERS = [
  {
    _id: "c1", userId: DEMO_USER_ID,
    name: "Jennifer Walsh", firstName: "Jennifer", lastName: "Walsh",
    email: "j.walsh@email.com", phone: "(312) 555-1001",
    address: "214 W Erie St", city: "Chicago", state: "IL", zip: "60654",
    fullAddress: "214 W Erie St, Chicago, IL 60654",
    notes: "Prefers eco-friendly products. Has a dog — Labrador. Leave key in mailbox.",
    totalSpent: 1680, jobCount: 14, lastServiceDate: dateStr(-7),
    source: "online-booking", tags: ["VIP", "Recurring"],
    territory: "t4",
    createdAt: "2023-12-15",
    stripeCustomerId: "cus_demo001",
  },
  {
    _id: "c2", userId: DEMO_USER_ID,
    name: "Marcus Thompson", firstName: "Marcus", lastName: "Thompson",
    email: "mthompson@biz.com", phone: "(312) 555-1002",
    address: "455 N Cityfront Plaza Dr", city: "Chicago", state: "IL", zip: "60611",
    fullAddress: "455 N Cityfront Plaza Dr, Chicago, IL 60611",
    notes: "Commercial account — office on 12th floor. Badge required at reception desk. Contact Sandra for access.",
    totalSpent: 4200, jobCount: 22, lastServiceDate: dateStr(-3),
    source: "referral", tags: ["Commercial", "Recurring", "VIP"],
    territory: "t1",
    createdAt: "2023-09-08",
    stripeCustomerId: "cus_demo002",
  },
  {
    _id: "c3", userId: DEMO_USER_ID,
    name: "Chloe Bennett", firstName: "Chloe", lastName: "Bennett",
    email: "chloe.b@gmail.com", phone: "(312) 555-1003",
    address: "1600 N Wells St", city: "Chicago", state: "IL", zip: "60614",
    fullAddress: "1600 N Wells St, Chicago, IL 60614",
    notes: "Allergic to bleach and strong chemicals. Use green cleaners only. 2-bedroom, 2-bath condo.",
    totalSpent: 460, jobCount: 4, lastServiceDate: dateStr(-21),
    source: "google", tags: [],
    territory: "t2",
    createdAt: "2024-08-02",
    stripeCustomerId: "cus_demo003",
  },
  {
    _id: "c4", userId: DEMO_USER_ID,
    name: "Omar Hassan", firstName: "Omar", lastName: "Hassan",
    email: "ohassan@outlook.com", phone: "(312) 555-1004",
    address: "3100 N Sheridan Rd", city: "Chicago", state: "IL", zip: "60657",
    fullAddress: "3100 N Sheridan Rd, Chicago, IL 60657",
    notes: "Leave key under mat. No arrival calls needed. Ring doorbell twice when done.",
    totalSpent: 960, jobCount: 8, lastServiceDate: dateStr(-14),
    source: "facebook", tags: ["Recurring"],
    territory: "t2",
    createdAt: "2024-02-20",
    stripeCustomerId: "cus_demo004",
  },
  {
    _id: "c5", userId: DEMO_USER_ID,
    name: "Rachel Nguyen", firstName: "Rachel", lastName: "Nguyen",
    email: "rachel.n@corp.io", phone: "(312) 555-1005",
    address: "500 W Madison St Ste 3700", city: "Chicago", state: "IL", zip: "60661",
    fullAddress: "500 W Madison St Ste 3700, Chicago, IL 60661",
    notes: "New commercial client. Quarterly deep-clean contract. Signed for 12 months.",
    totalSpent: 1020, jobCount: 4, lastServiceDate: dateStr(-30),
    source: "cold-outreach", tags: ["Commercial"],
    territory: "t1",
    createdAt: "2024-07-01",
    stripeCustomerId: "cus_demo005",
  },
  {
    _id: "c6", userId: DEMO_USER_ID,
    name: "Tom Erikson", firstName: "Tom", lastName: "Erikson",
    email: "tom.erikson@me.com", phone: "(312) 555-1006",
    address: "2200 N Lincoln Park W", city: "Chicago", state: "IL", zip: "60614",
    fullAddress: "2200 N Lincoln Park W, Chicago, IL 60614",
    notes: "Prefers morning slots before 11am. 2-bedroom condo, 2 cats. Use pet-safe products.",
    totalSpent: 720, jobCount: 6, lastServiceDate: dateStr(-10),
    source: "referral", tags: [],
    territory: "t2",
    createdAt: "2024-04-11",
    stripeCustomerId: "cus_demo006",
  },
  {
    _id: "c7", userId: DEMO_USER_ID,
    name: "Amara Okonkwo", firstName: "Amara", lastName: "Okonkwo",
    email: "amara.ok@email.com", phone: "(312) 555-1007",
    address: "720 N Michigan Ave", city: "Chicago", state: "IL", zip: "60611",
    fullAddress: "720 N Michigan Ave, Chicago, IL 60611",
    notes: "Move-out clean before March 1 lease end. Unit will be empty.",
    totalSpent: 280, jobCount: 1, lastServiceDate: dateStr(-14),
    source: "google", tags: ["One-time"],
    territory: "t4",
    createdAt: "2025-01-20",
    stripeCustomerId: "cus_demo007",
  },
  {
    _id: "c8", userId: DEMO_USER_ID,
    name: "David Park", firstName: "David", lastName: "Park",
    email: "d.park@startupco.com", phone: "(312) 555-1008",
    address: "1 N Dearborn St", city: "Chicago", state: "IL", zip: "60602",
    fullAddress: "1 N Dearborn St, Chicago, IL 60602",
    notes: "Startup office, open floorplan, 30 desks. Access code: 8821. Weekly recurring on Thursdays after 7pm.",
    totalSpent: 1260, jobCount: 7, lastServiceDate: dateStr(-4),
    source: "online-booking", tags: ["Commercial", "Recurring"],
    territory: "t1",
    createdAt: "2024-06-15",
    stripeCustomerId: "cus_demo008",
  },
  {
    _id: "c9", userId: DEMO_USER_ID,
    name: "Fatima Al-Rashid", firstName: "Fatima", lastName: "Al-Rashid",
    email: "fatima.ar@homemail.com", phone: "(312) 555-1009",
    address: "5500 S Shore Dr", city: "Chicago", state: "IL", zip: "60637",
    fullAddress: "5500 S Shore Dr, Chicago, IL 60637",
    notes: "Large single-family home, 4BR 3BA. Bi-weekly recurring. Very particular about kitchen.",
    totalSpent: 1440, jobCount: 12, lastServiceDate: dateStr(-7),
    source: "referral", tags: ["Recurring", "VIP"],
    territory: "t3",
    createdAt: "2024-01-14",
    stripeCustomerId: "cus_demo009",
  },
  {
    _id: "c10", userId: DEMO_USER_ID,
    name: "Steve Bartlett", firstName: "Steve", lastName: "Bartlett",
    email: "s.bartlett@agency.co", phone: "(312) 555-1010",
    address: "350 N Orleans St", city: "Chicago", state: "IL", zip: "60654",
    fullAddress: "350 N Orleans St, Chicago, IL 60654",
    notes: "Creative agency office, 2 floors, 45 staff. Cleaning Mon + Wed + Fri evenings.",
    totalSpent: 5400, jobCount: 30, lastServiceDate: dateStr(-1),
    source: "referral", tags: ["Commercial", "Recurring", "VIP"],
    territory: "t4",
    createdAt: "2023-11-01",
    stripeCustomerId: "cus_demo010",
  },
  {
    _id: "c11", userId: DEMO_USER_ID,
    name: "Mei Chen", firstName: "Mei", lastName: "Chen",
    email: "mei.chen@gmail.com", phone: "(312) 555-1011",
    address: "1900 N Clybourn Ave", city: "Chicago", state: "IL", zip: "60614",
    fullAddress: "1900 N Clybourn Ave, Chicago, IL 60614",
    notes: "1BR apartment. First clean was move-in, now monthly maintenance.",
    totalSpent: 460, jobCount: 4, lastServiceDate: dateStr(-18),
    source: "google", tags: [],
    territory: "t2",
    createdAt: "2024-10-05",
    stripeCustomerId: "cus_demo011",
  },
  {
    _id: "c12", userId: DEMO_USER_ID,
    name: "Jordan Blake", firstName: "Jordan", lastName: "Blake",
    email: "jordan.b@airbnbhost.com", phone: "(312) 555-1012",
    address: "1847 N Halsted St", city: "Chicago", state: "IL", zip: "60614",
    fullAddress: "1847 N Halsted St, Chicago, IL 60614",
    notes: "Airbnb host — needs turnovers same-day between 11am and 3pm. Usually 2-3x/week.",
    totalSpent: 2280, jobCount: 24, lastServiceDate: dateStr(-2),
    source: "online-booking", tags: ["Recurring", "Airbnb"],
    territory: "t2",
    createdAt: "2024-04-22",
    stripeCustomerId: "cus_demo012",
  },
]

// ─── Jobs ─────────────────────────────────────────────────────────────────────
export const DEMO_JOBS = [
  // Completed jobs (past)
  {
    _id: "j1", userId: DEMO_USER_ID,
    title: "Standard Clean — Walsh", status: "completed",
    customer: DEMO_CUSTOMERS[0], service: DEMO_SERVICES[0],
    address: DEMO_CUSTOMERS[0].fullAddress, territory: DEMO_TERRITORIES[3],
    assignedTeamMembers: [DEMO_TEAM[0]],
    scheduledDate: d(-7, 9), endTime: d(-7, 11), duration: 2,
    price: 120, tip: 15, paid: true, paymentMethod: "card",
    notes: "Completed on time. Client very satisfied. Dog was crated.",
    rating: 5, review: "Maria is incredible! Always leaves everything spotless.",
    createdAt: d(-14),
  },
  {
    _id: "j2", userId: DEMO_USER_ID,
    title: "Office Clean — Thompson", status: "completed",
    customer: DEMO_CUSTOMERS[1], service: DEMO_SERVICES[3],
    address: DEMO_CUSTOMERS[1].fullAddress, territory: DEMO_TERRITORIES[0],
    assignedTeamMembers: [DEMO_TEAM[1], DEMO_TEAM[3]],
    scheduledDate: d(-5, 18), endTime: d(-5, 21), duration: 3,
    price: 210, tip: 0, paid: true, paymentMethod: "invoice",
    notes: "After-hours clean. Badge left with reception.",
    rating: 5, review: null,
    createdAt: d(-10),
  },
  {
    _id: "j3", userId: DEMO_USER_ID,
    title: "Airbnb Turnover — Blake", status: "completed",
    customer: DEMO_CUSTOMERS[11], service: DEMO_SERVICES[4],
    address: DEMO_CUSTOMERS[11].fullAddress, territory: DEMO_TERRITORIES[1],
    assignedTeamMembers: [DEMO_TEAM[2]],
    scheduledDate: d(-4, 11), endTime: d(-4, 12, 30), duration: 1.5,
    price: 95, tip: 10, paid: true, paymentMethod: "card",
    notes: "Guests checked out at 10am. Next check-in at 3pm.",
    rating: 5, review: "Spotless and fast as always!",
    createdAt: d(-6),
  },
  {
    _id: "j4", userId: DEMO_USER_ID,
    title: "Deep Clean — Al-Rashid", status: "completed",
    customer: DEMO_CUSTOMERS[8], service: DEMO_SERVICES[1],
    address: DEMO_CUSTOMERS[8].fullAddress, territory: DEMO_TERRITORIES[2],
    assignedTeamMembers: [DEMO_TEAM[0], DEMO_TEAM[3]],
    scheduledDate: d(-3, 8), endTime: d(-3, 13), duration: 5,
    price: 265, tip: 30, paid: true, paymentMethod: "card",
    notes: "4BR 3BA. Extra attention to kitchen per client request.",
    rating: 5, review: "Best deep clean we've ever had.",
    createdAt: d(-10),
  },
  {
    _id: "j5", userId: DEMO_USER_ID,
    title: "Office Clean — Bartlett Agency", status: "completed",
    customer: DEMO_CUSTOMERS[9], service: DEMO_SERVICES[3],
    address: DEMO_CUSTOMERS[9].fullAddress, territory: DEMO_TERRITORIES[3],
    assignedTeamMembers: [DEMO_TEAM[1], DEMO_TEAM[5]],
    scheduledDate: d(-3, 18), endTime: d(-3, 21), duration: 3,
    price: 210, tip: 0, paid: true, paymentMethod: "invoice",
    notes: "Regular Monday evening clean.",
    rating: 4, review: null,
    createdAt: d(-14),
  },
  {
    _id: "j6", userId: DEMO_USER_ID,
    title: "Standard Clean — Park Startup", status: "completed",
    customer: DEMO_CUSTOMERS[7], service: DEMO_SERVICES[3],
    address: DEMO_CUSTOMERS[7].fullAddress, territory: DEMO_TERRITORIES[0],
    assignedTeamMembers: [DEMO_TEAM[1]],
    scheduledDate: d(-4, 19), endTime: d(-4, 22), duration: 3,
    price: 180, tip: 0, paid: true, paymentMethod: "invoice",
    notes: "Thursday evening recurring clean.",
    rating: null, review: null,
    createdAt: d(-11),
  },
  // In-progress
  {
    _id: "j7", userId: DEMO_USER_ID,
    title: "Standard Clean — Erikson", status: "in_progress",
    customer: DEMO_CUSTOMERS[5], service: DEMO_SERVICES[0],
    address: DEMO_CUSTOMERS[5].fullAddress, territory: DEMO_TERRITORIES[1],
    assignedTeamMembers: [DEMO_TEAM[2]],
    scheduledDate: d(0, 9), endTime: d(0, 11), duration: 2,
    price: 120, tip: null, paid: false, paymentMethod: "card",
    notes: "2 cats in the apartment — use pet-safe products.",
    rating: null, review: null,
    createdAt: d(-2),
  },
  {
    _id: "j8", userId: DEMO_USER_ID,
    title: "Airbnb Turnover — Blake", status: "in_progress",
    customer: DEMO_CUSTOMERS[11], service: DEMO_SERVICES[4],
    address: DEMO_CUSTOMERS[11].fullAddress, territory: DEMO_TERRITORIES[1],
    assignedTeamMembers: [DEMO_TEAM[2]],
    scheduledDate: d(0, 11), endTime: d(0, 12, 30), duration: 1.5,
    price: 110, tip: null, paid: false, paymentMethod: "card",
    notes: "Linen service add-on included.",
    rating: null, review: null,
    createdAt: d(-1),
  },
  // Upcoming scheduled
  {
    _id: "j9", userId: DEMO_USER_ID,
    title: "Deep Clean — Bennett", status: "scheduled",
    customer: DEMO_CUSTOMERS[2], service: DEMO_SERVICES[1],
    address: DEMO_CUSTOMERS[2].fullAddress, territory: DEMO_TERRITORIES[1],
    assignedTeamMembers: [DEMO_TEAM[2]],
    scheduledDate: d(0, 14), endTime: d(0, 18), duration: 4,
    price: 220, tip: null, paid: false, paymentMethod: "card",
    notes: "Avoid bleach. Use green products only.",
    rating: null, review: null,
    createdAt: d(-3),
  },
  {
    _id: "j10", userId: DEMO_USER_ID,
    title: "Standard Clean — Hassan", status: "scheduled",
    customer: DEMO_CUSTOMERS[3], service: DEMO_SERVICES[0],
    address: DEMO_CUSTOMERS[3].fullAddress, territory: DEMO_TERRITORIES[1],
    assignedTeamMembers: [DEMO_TEAM[0]],
    scheduledDate: d(1, 10), endTime: d(1, 12), duration: 2,
    price: 120, tip: null, paid: false, paymentMethod: "cash",
    notes: "Key under mat.",
    rating: null, review: null,
    createdAt: d(-2),
  },
  {
    _id: "j11", userId: DEMO_USER_ID,
    title: "Quarterly Deep Clean — Nguyen Corp", status: "scheduled",
    customer: DEMO_CUSTOMERS[4], service: DEMO_SERVICES[1],
    address: DEMO_CUSTOMERS[4].fullAddress, territory: DEMO_TERRITORIES[0],
    assignedTeamMembers: [DEMO_TEAM[1], DEMO_TEAM[3]],
    scheduledDate: d(1, 8), endTime: d(1, 13), duration: 5,
    price: 340, tip: null, paid: false, paymentMethod: "invoice",
    notes: "Quarterly contract. 3 conference rooms. Access: lobby security will issue badges.",
    rating: null, review: null,
    createdAt: d(-2),
  },
  {
    _id: "j12", userId: DEMO_USER_ID,
    title: "Move-Out Clean — Okonkwo", status: "scheduled",
    customer: DEMO_CUSTOMERS[6], service: DEMO_SERVICES[2],
    address: DEMO_CUSTOMERS[6].fullAddress, territory: DEMO_TERRITORIES[3],
    assignedTeamMembers: [DEMO_TEAM[0], DEMO_TEAM[3]],
    scheduledDate: d(2, 9), endTime: d(2, 14), duration: 5,
    price: 280, tip: null, paid: false, paymentMethod: "card",
    notes: "Unit will be fully empty. Landlord inspection day after.",
    rating: null, review: null,
    createdAt: d(-3),
  },
  {
    _id: "j13", userId: DEMO_USER_ID,
    title: "Standard Clean — Walsh (Recurring)", status: "scheduled",
    customer: DEMO_CUSTOMERS[0], service: DEMO_SERVICES[0],
    address: DEMO_CUSTOMERS[0].fullAddress, territory: DEMO_TERRITORIES[3],
    assignedTeamMembers: [DEMO_TEAM[0]],
    scheduledDate: d(3, 9), endTime: d(3, 11), duration: 2,
    price: 120, tip: null, paid: false, paymentMethod: "card",
    notes: "Weekly recurring — Friday mornings.",
    rating: null, review: null,
    createdAt: d(-7),
  },
  {
    _id: "j14", userId: DEMO_USER_ID,
    title: "Office Clean — Thompson (Recurring)", status: "scheduled",
    customer: DEMO_CUSTOMERS[1], service: DEMO_SERVICES[3],
    address: DEMO_CUSTOMERS[1].fullAddress, territory: DEMO_TERRITORIES[0],
    assignedTeamMembers: [DEMO_TEAM[1], DEMO_TEAM[3]],
    scheduledDate: d(3, 18), endTime: d(3, 21), duration: 3,
    price: 210, tip: null, paid: false, paymentMethod: "invoice",
    notes: "Bi-weekly recurring.",
    rating: null, review: null,
    createdAt: d(-14),
  },
  {
    _id: "j15", userId: DEMO_USER_ID,
    title: "Airbnb Turnover — Blake", status: "scheduled",
    customer: DEMO_CUSTOMERS[11], service: DEMO_SERVICES[4],
    address: DEMO_CUSTOMERS[11].fullAddress, territory: DEMO_TERRITORIES[1],
    assignedTeamMembers: [DEMO_TEAM[2]],
    scheduledDate: d(4, 11), endTime: d(4, 12, 30), duration: 1.5,
    price: 95, tip: null, paid: false, paymentMethod: "card",
    notes: "Recurring turnover.",
    rating: null, review: null,
    createdAt: d(-5),
  },
  {
    _id: "j16", userId: DEMO_USER_ID,
    title: "Bi-weekly Clean — Al-Rashid", status: "scheduled",
    customer: DEMO_CUSTOMERS[8], service: DEMO_SERVICES[0],
    address: DEMO_CUSTOMERS[8].fullAddress, territory: DEMO_TERRITORIES[2],
    assignedTeamMembers: [DEMO_TEAM[0]],
    scheduledDate: d(4, 9), endTime: d(4, 12), duration: 3,
    price: 165, tip: null, paid: false, paymentMethod: "card",
    notes: "Bi-weekly recurring. 4BR home.",
    rating: null, review: null,
    createdAt: d(-14),
  },
  {
    _id: "j17", userId: DEMO_USER_ID,
    title: "Office Clean — Bartlett Agency", status: "scheduled",
    customer: DEMO_CUSTOMERS[9], service: DEMO_SERVICES[3],
    address: DEMO_CUSTOMERS[9].fullAddress, territory: DEMO_TERRITORIES[3],
    assignedTeamMembers: [DEMO_TEAM[1], DEMO_TEAM[5]],
    scheduledDate: d(5, 18), endTime: d(5, 21), duration: 3,
    price: 210, tip: null, paid: false, paymentMethod: "invoice",
    notes: "Wednesday evening recurring.",
    rating: null, review: null,
    createdAt: d(-14),
  },
  {
    _id: "j18", userId: DEMO_USER_ID,
    title: "Standard Clean — Park Startup", status: "scheduled",
    customer: DEMO_CUSTOMERS[7], service: DEMO_SERVICES[3],
    address: DEMO_CUSTOMERS[7].fullAddress, territory: DEMO_TERRITORIES[0],
    assignedTeamMembers: [DEMO_TEAM[1]],
    scheduledDate: d(6, 19), endTime: d(6, 22), duration: 3,
    price: 180, tip: null, paid: false, paymentMethod: "invoice",
    notes: "Thursday evening recurring.",
    rating: null, review: null,
    createdAt: d(-7),
  },
  // Cancelled
  {
    _id: "j19", userId: DEMO_USER_ID,
    title: "Deep Clean — Hassan (Cancelled)", status: "cancelled",
    customer: DEMO_CUSTOMERS[3], service: DEMO_SERVICES[1],
    address: DEMO_CUSTOMERS[3].fullAddress, territory: DEMO_TERRITORIES[1],
    assignedTeamMembers: [],
    scheduledDate: d(-10, 11), duration: 4,
    price: 220, tip: null, paid: false, paymentMethod: "card",
    notes: "Client cancelled 24 hrs before. Cancellation fee applied.",
    rating: null, review: null,
    createdAt: d(-17),
  },
  {
    _id: "j20", userId: DEMO_USER_ID,
    title: "Standard Clean — Chen (Cancelled)", status: "cancelled",
    customer: DEMO_CUSTOMERS[10], service: DEMO_SERVICES[0],
    address: DEMO_CUSTOMERS[10].fullAddress, territory: DEMO_TERRITORIES[1],
    assignedTeamMembers: [],
    scheduledDate: d(-6, 10), duration: 2,
    price: 120, tip: null, paid: false, paymentMethod: "card",
    notes: "No-show. Charged cancellation fee.",
    rating: null, review: null,
    createdAt: d(-13),
  },
]

// ─── Invoices ─────────────────────────────────────────────────────────────────
export const DEMO_INVOICES = [
  {
    _id: "inv1", userId: DEMO_USER_ID, invoiceNumber: "INV-2025-018",
    customer: DEMO_CUSTOMERS[1], job: DEMO_JOBS[1],
    lineItems: [{ name: "Office Cleaning", qty: 1, price: 180 }, { name: "After-Hours Premium", qty: 1, price: 25 }, { name: "Floor Polishing", qty: 1, price: 50 }],
    subtotal: 255, tax: 22.95, discount: 0, total: 277.95,
    status: "paid", dueDate: dateStr(-10), paidDate: dateStr(-5),
    paymentMethod: "bank-transfer", notes: "Net 15 terms. Bi-weekly recurring.",
    createdAt: dateStr(-17),
  },
  {
    _id: "inv2", userId: DEMO_USER_ID, invoiceNumber: "INV-2025-019",
    customer: DEMO_CUSTOMERS[7], job: DEMO_JOBS[5],
    lineItems: [{ name: "Office Cleaning", qty: 1, price: 180 }],
    subtotal: 180, tax: 0, discount: 0, total: 180,
    status: "paid", dueDate: dateStr(-5), paidDate: dateStr(-3),
    paymentMethod: "card", notes: "Weekly recurring invoice.",
    createdAt: dateStr(-9),
  },
  {
    _id: "inv3", userId: DEMO_USER_ID, invoiceNumber: "INV-2025-020",
    customer: DEMO_CUSTOMERS[9], job: DEMO_JOBS[4],
    lineItems: [{ name: "Office Cleaning", qty: 1, price: 210 }, { name: "Conference Rooms (+2)", qty: 1, price: 30 }],
    subtotal: 240, tax: 21.60, discount: 0, total: 261.60,
    status: "paid", dueDate: dateStr(-3), paidDate: dateStr(-1),
    paymentMethod: "invoice", notes: "Monday evening clean — recurring.",
    createdAt: dateStr(-7),
  },
  {
    _id: "inv4", userId: DEMO_USER_ID, invoiceNumber: "INV-2025-021",
    customer: DEMO_CUSTOMERS[4], job: DEMO_JOBS[10],
    lineItems: [{ name: "Deep Clean", qty: 1, price: 220 }, { name: "Conference Rooms (+2)", qty: 2, price: 60 }, { name: "After-Hours Premium", qty: 1, price: 25 }],
    subtotal: 305, tax: 27.45, discount: 0, total: 332.45,
    status: "pending", dueDate: dateStr(14), paidDate: null,
    paymentMethod: "invoice", notes: "Quarterly contract — Q1 2025.",
    createdAt: dateStr(-1),
  },
  {
    _id: "inv5", userId: DEMO_USER_ID, invoiceNumber: "INV-2025-022",
    customer: DEMO_CUSTOMERS[1], job: DEMO_JOBS[13],
    lineItems: [{ name: "Office Cleaning", qty: 1, price: 180 }, { name: "After-Hours Premium", qty: 1, price: 25 }],
    subtotal: 205, tax: 18.45, discount: 0, total: 223.45,
    status: "pending", dueDate: dateStr(10), paidDate: null,
    paymentMethod: "invoice", notes: "",
    createdAt: dateStr(0),
  },
  {
    _id: "inv6", userId: DEMO_USER_ID, invoiceNumber: "INV-2025-023",
    customer: DEMO_CUSTOMERS[7], job: DEMO_JOBS[17],
    lineItems: [{ name: "Office Cleaning", qty: 1, price: 180 }],
    subtotal: 180, tax: 0, discount: 0, total: 180,
    status: "pending", dueDate: dateStr(13), paidDate: null,
    paymentMethod: "invoice", notes: "Thursday recurring.",
    createdAt: dateStr(0),
  },
  {
    _id: "inv7", userId: DEMO_USER_ID, invoiceNumber: "INV-2025-010",
    customer: DEMO_CUSTOMERS[3], job: DEMO_JOBS[18],
    lineItems: [{ name: "Cancellation Fee", qty: 1, price: 50 }],
    subtotal: 50, tax: 0, discount: 0, total: 50,
    status: "overdue", dueDate: dateStr(-8), paidDate: null,
    paymentMethod: "card", notes: "Less-than-24hr cancellation fee.",
    createdAt: dateStr(-15),
  },
  {
    _id: "inv8", userId: DEMO_USER_ID, invoiceNumber: "INV-2025-011",
    customer: DEMO_CUSTOMERS[10], job: DEMO_JOBS[19],
    lineItems: [{ name: "No-Show Fee", qty: 1, price: 60 }],
    subtotal: 60, tax: 0, discount: 0, total: 60,
    status: "overdue", dueDate: dateStr(-5), paidDate: null,
    paymentMethod: "card", notes: "No-show — team arrived, client absent.",
    createdAt: dateStr(-12),
  },
]

// ─── Estimates ────────────────────────────────────────────────────────────────
export const DEMO_ESTIMATES = [
  {
    _id: "est1", userId: DEMO_USER_ID, estimateNumber: "EST-2025-005",
    customer: DEMO_CUSTOMERS[4],
    lineItems: [{ name: "Office Cleaning", qty: 1, price: 180 }, { name: "Conference Rooms (+2)", qty: 1, price: 30 }, { name: "After-Hours Premium", qty: 1, price: 25 }],
    subtotal: 235, tax: 21.15, discount: 0, total: 256.15,
    status: "accepted", expiryDate: dateStr(20), notes: "Quarterly deep-clean proposal — accepted and converted to recurring.",
    createdAt: dateStr(-10),
  },
  {
    _id: "est2", userId: DEMO_USER_ID, estimateNumber: "EST-2025-006",
    customer: DEMO_CUSTOMERS[6],
    lineItems: [{ name: "Move-In / Move-Out", qty: 1, price: 280 }, { name: "Carpet Steam Clean", qty: 1, price: 60 }],
    subtotal: 340, tax: 0, discount: 34, total: 306,
    status: "sent", expiryDate: dateStr(5), notes: "10% first-time customer discount applied.",
    createdAt: dateStr(-3),
  },
  {
    _id: "est3", userId: DEMO_USER_ID, estimateNumber: "EST-2025-007",
    customer: DEMO_CUSTOMERS[2],
    lineItems: [{ name: "Deep Clean", qty: 1, price: 220 }, { name: "Inside Fridge", qty: 1, price: 25 }, { name: "Window Interior", qty: 1, price: 30 }],
    subtotal: 275, tax: 0, discount: 0, total: 275,
    status: "draft", expiryDate: dateStr(14), notes: "",
    createdAt: dateStr(0),
  },
  {
    _id: "est4", userId: DEMO_USER_ID, estimateNumber: "EST-2025-008",
    customer: DEMO_CUSTOMERS[11],
    lineItems: [{ name: "Airbnb Turnover", qty: 8, price: 95 }, { name: "Linen Service", qty: 8, price: 20 }],
    subtotal: 920, tax: 0, discount: 92, total: 828,
    status: "sent", expiryDate: dateStr(7), notes: "Monthly bundle — 8 turnovers at 10% discount.",
    createdAt: dateStr(-2),
  },
  {
    _id: "est5", userId: DEMO_USER_ID, estimateNumber: "EST-2025-009",
    customer: DEMO_CUSTOMERS[9],
    lineItems: [{ name: "Office Cleaning", qty: 12, price: 210 }, { name: "Floor Polishing", qty: 4, price: 50 }],
    subtotal: 2720, tax: 244.80, discount: 272, total: 2692.80,
    status: "accepted", expiryDate: dateStr(30), notes: "Annual contract — 12 months, 3x/week. 10% annual discount.",
    createdAt: dateStr(-5),
  },
]

// ─── Payments ─────────────────────────────────────────────────────────────────
export const DEMO_PAYMENTS = [
  { _id: "pay1", userId: DEMO_USER_ID, amount: 277.95, method: "bank-transfer", status: "completed", customer: DEMO_CUSTOMERS[1], invoice: DEMO_INVOICES[0], date: dateStr(-5), notes: "Wire transfer cleared." },
  { _id: "pay2", userId: DEMO_USER_ID, amount: 180, method: "card", status: "completed", customer: DEMO_CUSTOMERS[7], invoice: DEMO_INVOICES[1], date: dateStr(-3), notes: "" },
  { _id: "pay3", userId: DEMO_USER_ID, amount: 261.60, method: "invoice", status: "completed", customer: DEMO_CUSTOMERS[9], invoice: DEMO_INVOICES[2], date: dateStr(-1), notes: "Paid via ACH." },
  { _id: "pay4", userId: DEMO_USER_ID, amount: 135, method: "card", status: "completed", customer: DEMO_CUSTOMERS[0], invoice: null, date: dateStr(-7), notes: "On-site card payment (job + tip)." },
  { _id: "pay5", userId: DEMO_USER_ID, amount: 295, method: "card", status: "completed", customer: DEMO_CUSTOMERS[8], invoice: null, date: dateStr(-3), notes: "Deep clean + tip." },
  { _id: "pay6", userId: DEMO_USER_ID, amount: 120, method: "cash", status: "completed", customer: DEMO_CUSTOMERS[5], invoice: null, date: dateStr(-10), notes: "" },
  { _id: "pay7", userId: DEMO_USER_ID, amount: 105, method: "card", status: "completed", customer: DEMO_CUSTOMERS[11], invoice: null, date: dateStr(-4), notes: "Airbnb turnover + tip." },
  { _id: "pay8", userId: DEMO_USER_ID, amount: 180, method: "card", status: "completed", customer: DEMO_CUSTOMERS[7], invoice: null, date: dateStr(-11), notes: "" },
]

// ─── Leads ────────────────────────────────────────────────────────────────────
export const DEMO_LEADS = [
  {
    _id: "l1", userId: DEMO_USER_ID,
    name: "Sandra Lee", email: "slee@homemail.com", phone: "(312) 555-2001",
    service: "Standard Clean", address: "4500 N Clark St, Chicago, IL 60640",
    notes: "Looking for bi-weekly cleaning, 3BR condo. Has two kids and a busy schedule.",
    status: "new", priority: "high",
    source: "google-ads",
    estimatedValue: 240, assignedTo: DEMO_TEAM[3],
    createdAt: d(-1),
    tasks: [],
  },
  {
    _id: "l2", userId: DEMO_USER_ID,
    name: "Kevin Murphy", email: "kmurphy@corp.com", phone: "(312) 555-2002",
    service: "Office Cleaning", address: "303 E Wacker Dr, Chicago, IL 60601",
    notes: "20-person office, needs nightly cleaning Mon–Fri. Decision maker is Kevin. Budget pre-approved.",
    status: "contacted", priority: "high",
    source: "referral",
    estimatedValue: 2400, assignedTo: DEMO_TEAM[3],
    createdAt: d(-5),
    tasks: [{ title: "Send proposal", dueDate: dateStr(2), done: false }],
  },
  {
    _id: "l3", userId: DEMO_USER_ID,
    name: "Nina Patel", email: "npatel@email.com", phone: "(312) 555-2003",
    service: "Deep Clean", address: "800 N Michigan Ave, Chicago, IL 60611",
    notes: "One-time deep clean before listing condo for sale. Wants eco-friendly.",
    status: "quoted", priority: "medium",
    source: "online-booking",
    estimatedValue: 275, assignedTo: DEMO_TEAM[0],
    createdAt: d(-8),
    tasks: [{ title: "Follow up on estimate", dueDate: dateStr(1), done: false }],
  },
  {
    _id: "l4", userId: DEMO_USER_ID,
    name: "Carlos Mejia", email: "cmejia@gmail.com", phone: "(312) 555-2004",
    service: "Move-In / Move-Out", address: "1200 W Diversey Pkwy, Chicago, IL 60614",
    notes: "Moving out end of month. Needs full move-out clean + carpet.",
    status: "new", priority: "medium",
    source: "facebook",
    estimatedValue: 340, assignedTo: null,
    createdAt: d(0),
    tasks: [],
  },
  {
    _id: "l5", userId: DEMO_USER_ID,
    name: "Yuki Tanaka", email: "ytanaka@email.com", phone: "(312) 555-2005",
    service: "Standard Clean", address: "2900 N Sheffield Ave, Chicago, IL 60657",
    notes: "Weekly recurring inquiry — 2BR apartment. Very price-sensitive.",
    status: "follow-up", priority: "low",
    source: "instagram",
    estimatedValue: 480, assignedTo: DEMO_TEAM[2],
    createdAt: d(-12),
    tasks: [{ title: "Send discount code", dueDate: dateStr(0), done: false }],
  },
  {
    _id: "l6", userId: DEMO_USER_ID,
    name: "Greg Williams", email: "gwilliams@tech.io", phone: "(312) 555-2006",
    service: "Office Cleaning", address: "222 W Adams St, Chicago, IL 60606",
    notes: "Small tech office, 10 desks. Went with competitor due to pricing.",
    status: "lost", priority: "low",
    source: "cold-outreach",
    estimatedValue: 220, assignedTo: null,
    createdAt: d(-20),
    tasks: [],
  },
  {
    _id: "l7", userId: DEMO_USER_ID,
    name: "Brittany Cole", email: "b.cole@gmail.com", phone: "(312) 555-2007",
    service: "Airbnb Turnover", address: "1034 N Milwaukee Ave, Chicago, IL 60642",
    notes: "Manages 2 Airbnb units in Wicker Park. Needs same-day turnovers.",
    status: "contacted", priority: "high",
    source: "google",
    estimatedValue: 760, assignedTo: DEMO_TEAM[2],
    createdAt: d(-4),
    tasks: [{ title: "Schedule site visit", dueDate: dateStr(1), done: false }],
  },
  {
    _id: "l8", userId: DEMO_USER_ID,
    name: "Marco Di Luca", email: "mdiluca@restaurant.com", phone: "(312) 555-2008",
    service: "Office Cleaning", address: "65 E Adams St, Chicago, IL 60603",
    notes: "Restaurant kitchen deep clean inquiry. Bi-monthly schedule requested.",
    status: "quoted", priority: "medium",
    source: "referral",
    estimatedValue: 440, assignedTo: DEMO_TEAM[3],
    createdAt: d(-6),
    tasks: [],
  },
]

// ─── Coupons ─────────────────────────────────────────────────────────────────
export const DEMO_COUPONS = [
  {
    _id: "cup1", userId: DEMO_USER_ID,
    code: "WELCOME15", type: "percentage", value: 15,
    description: "15% off first booking — new customers only",
    minOrderValue: 80, maxUses: 200, usedCount: 87,
    active: true, expiryDate: dateStr(90),
    applicableTo: "all",
    createdAt: "2025-01-01",
  },
  {
    _id: "cup2", userId: DEMO_USER_ID,
    code: "SPRING30", type: "flat", value: 30,
    description: "$30 off any Deep Clean — Spring promotion",
    minOrderValue: 180, maxUses: 50, usedCount: 23,
    active: true, expiryDate: dateStr(45),
    applicableTo: "deep-clean",
    createdAt: "2025-02-01",
  },
  {
    _id: "cup3", userId: DEMO_USER_ID,
    code: "REFER20", type: "percentage", value: 20,
    description: "20% off for referrals — one use per customer",
    minOrderValue: 0, maxUses: 500, usedCount: 142,
    active: true, expiryDate: dateStr(180),
    applicableTo: "all",
    createdAt: "2024-06-01",
  },
  {
    _id: "cup4", userId: DEMO_USER_ID,
    code: "LOYAL10", type: "percentage", value: 10,
    description: "10% loyalty discount — 5+ bookings",
    minOrderValue: 100, maxUses: 100, usedCount: 61,
    active: true, expiryDate: dateStr(365),
    applicableTo: "all",
    createdAt: "2024-09-01",
  },
  {
    _id: "cup5", userId: DEMO_USER_ID,
    code: "SUMMER20", type: "percentage", value: 20,
    description: "Summer sale — 20% off all services",
    minOrderValue: 0, maxUses: 100, usedCount: 100,
    active: false, expiryDate: dateStr(-60),
    applicableTo: "all",
    createdAt: "2024-06-15",
  },
]

// ─── Recurring bookings ────────────────────────────────────────────────────────
export const DEMO_RECURRING = [
  {
    _id: "rec1", userId: DEMO_USER_ID,
    title: "Standard Clean — Walsh",
    customer: DEMO_CUSTOMERS[0], service: DEMO_SERVICES[0],
    frequency: "weekly", dayOfWeek: "friday",
    time: "09:00", duration: 2,
    price: 120, nextOccurrence: dateStr(3),
    assignedTeamMembers: [DEMO_TEAM[0]],
    active: true, totalCompletions: 14,
    createdAt: "2024-01-05",
  },
  {
    _id: "rec2", userId: DEMO_USER_ID,
    title: "Office Clean — Thompson (Bi-weekly)",
    customer: DEMO_CUSTOMERS[1], service: DEMO_SERVICES[3],
    frequency: "biweekly", dayOfWeek: "wednesday",
    time: "18:00", duration: 3,
    price: 210, nextOccurrence: dateStr(3),
    assignedTeamMembers: [DEMO_TEAM[1], DEMO_TEAM[3]],
    active: true, totalCompletions: 22,
    createdAt: "2023-10-01",
  },
  {
    _id: "rec3", userId: DEMO_USER_ID,
    title: "Airbnb Turnover — Blake (Mon/Wed/Fri)",
    customer: DEMO_CUSTOMERS[11], service: DEMO_SERVICES[4],
    frequency: "custom", days: ["monday", "wednesday", "friday"],
    time: "11:00", duration: 1.5,
    price: 95, nextOccurrence: dateStr(4),
    assignedTeamMembers: [DEMO_TEAM[2]],
    active: true, totalCompletions: 24,
    createdAt: "2024-04-22",
  },
  {
    _id: "rec4", userId: DEMO_USER_ID,
    title: "Bi-weekly Clean — Al-Rashid",
    customer: DEMO_CUSTOMERS[8], service: DEMO_SERVICES[0],
    frequency: "biweekly", dayOfWeek: "tuesday",
    time: "09:00", duration: 3,
    price: 165, nextOccurrence: dateStr(4),
    assignedTeamMembers: [DEMO_TEAM[0]],
    active: true, totalCompletions: 12,
    createdAt: "2024-02-10",
  },
  {
    _id: "rec5", userId: DEMO_USER_ID,
    title: "Weekly Office — Park Startup",
    customer: DEMO_CUSTOMERS[7], service: DEMO_SERVICES[3],
    frequency: "weekly", dayOfWeek: "thursday",
    time: "19:00", duration: 3,
    price: 180, nextOccurrence: dateStr(6),
    assignedTeamMembers: [DEMO_TEAM[1]],
    active: true, totalCompletions: 7,
    createdAt: "2024-07-10",
  },
  {
    _id: "rec6", userId: DEMO_USER_ID,
    title: "Monthly Hassan Standard",
    customer: DEMO_CUSTOMERS[3], service: DEMO_SERVICES[0],
    frequency: "monthly", dayOfMonth: 15,
    time: "10:00", duration: 2,
    price: 120, nextOccurrence: dateStr(14),
    assignedTeamMembers: [DEMO_TEAM[0]],
    active: true, totalCompletions: 8,
    createdAt: "2024-06-15",
  },
  {
    _id: "rec7", userId: DEMO_USER_ID,
    title: "3x/week Office — Bartlett Agency",
    customer: DEMO_CUSTOMERS[9], service: DEMO_SERVICES[3],
    frequency: "custom", days: ["monday", "wednesday", "friday"],
    time: "18:00", duration: 3,
    price: 210, nextOccurrence: dateStr(5),
    assignedTeamMembers: [DEMO_TEAM[1], DEMO_TEAM[5]],
    active: true, totalCompletions: 30,
    createdAt: "2023-11-01",
  },
]

// ─── Notifications ─────────────────────────────────────────────────────────────
export const DEMO_NOTIFICATIONS = [
  { _id: "n1", userId: DEMO_USER_ID, type: "job_completed", title: "Job Completed", message: "Office Clean — Thompson has been marked as complete by James Kim.", read: false, createdAt: d(-3, 19) },
  { _id: "n2", userId: DEMO_USER_ID, type: "new_booking", title: "New Booking", message: "Jennifer Walsh booked a Standard Clean for this Friday at 9am.", read: false, createdAt: d(0, 8) },
  { _id: "n3", userId: DEMO_USER_ID, type: "payment_received", title: "Payment Received", message: "$261.60 received from Bartlett Agency via ACH (INV-2025-020).", read: true, createdAt: d(-1, 14) },
  { _id: "n4", userId: DEMO_USER_ID, type: "invoice_overdue", title: "Invoice Overdue", message: "INV-2025-010 ($50) for Omar Hassan is now 8 days overdue.", read: false, createdAt: d(0, 7) },
  { _id: "n5", userId: DEMO_USER_ID, type: "new_lead", title: "New Lead", message: "Carlos Mejia submitted a Move-Out Clean request via the booking page.", read: true, createdAt: d(0, 6) },
  { _id: "n6", userId: DEMO_USER_ID, type: "review", title: "5-Star Review", message: "Jennifer Walsh left a 5-star review: \"Maria is incredible! Always leaves everything spotless.\"", read: true, createdAt: d(-7, 20) },
  { _id: "n7", userId: DEMO_USER_ID, type: "new_lead", title: "New Lead", message: "Brittany Cole is interested in Airbnb Turnover services for 2 units.", read: false, createdAt: d(-4, 11) },
  { _id: "n8", userId: DEMO_USER_ID, type: "estimate_accepted", title: "Estimate Accepted", message: "Bartlett Agency accepted EST-2025-009 — annual contract worth $2,692.80.", read: true, createdAt: d(-5, 16) },
  { _id: "n9", userId: DEMO_USER_ID, type: "team_update", title: "Team Check-In", message: "Sofia Reyes checked in for Deep Clean — Bennett at 2:05pm.", read: true, createdAt: d(0, 14, 5) },
]

// ─── Analytics ────────────────────────────────────────────────────────────────
const months = ["Aug", "Sep", "Oct", "Nov", "Dec", "Jan", "Feb"]
export const DEMO_ANALYTICS = {
  totalRevenue: 24360,
  totalJobs: 186,
  averageJobValue: 131,
  repeatCustomerRate: 0.74,
  newCustomersThisMonth: 3,
  pendingRevenue: 735.90,
  overdueRevenue: 110,
  jobsByStatus: {
    completed: 148,
    scheduled: 28,
    in_progress: 2,
    cancelled: 8,
  },
  revenueByMonth: months.map((m, i) => ({ month: m, revenue: [2840, 3120, 3400, 4200, 3750, 3620, 3430][i] })),
  jobsByMonth: months.map((m, i) => ({ month: m, count: [21, 24, 26, 32, 28, 27, 28][i] })),
  newCustomersByMonth: months.map((m, i) => ({ month: m, count: [3, 4, 2, 5, 3, 4, 3][i] })),
  topServices: [
    { name: "Standard Clean", count: 98, revenue: 11760 },
    { name: "Deep Clean", count: 42, revenue: 9240 },
    { name: "Office Cleaning", count: 32, revenue: 5760 },
    { name: "Move-In/Out", count: 9, revenue: 2520 },
    { name: "Airbnb Turnover", count: 5, revenue: 1080 },
  ],
  revenueByTerritory: [
    { name: "Downtown / Loop", revenue: 9840 },
    { name: "North Side", revenue: 7320 },
    { name: "West Loop / River North", revenue: 4920 },
    { name: "South Loop / Pilsen", revenue: 2280 },
  ],
  topTeamMembers: DEMO_TEAM.slice(0, 4).map((m, i) => ({
    name: m.name,
    jobsCompleted: [58, 44, 42, 36][i],
    revenue: [6960, 5280, 5040, 4320][i],
    rating: m.rating,
    hoursWorked: [116, 88, 84, 72][i],
  })),
}

// ─── Payroll ──────────────────────────────────────────────────────────────────
const PAYROLL_SEED = [
  { hoursWorked: 76, jobsCompleted: 28, tips: 42 },
  { hoursWorked: 64, jobsCompleted: 22, tips: 18 },
  { hoursWorked: 68, jobsCompleted: 24, tips: 30 },
  { hoursWorked: 72, jobsCompleted: 26, tips: 0 },
  { hoursWorked: 52, jobsCompleted: 18, tips: 10 },
  { hoursWorked: 60, jobsCompleted: 20, tips: 15 },
]
export const DEMO_PAYROLL = DEMO_TEAM.map((m, i) => {
  const s = PAYROLL_SEED[i] || PAYROLL_SEED[0]
  const gross = s.hoursWorked * m.payRate
  return {
    teamMember: m,
    hoursWorked: s.hoursWorked,
    jobsCompleted: s.jobsCompleted,
    grossPay: gross,
    tips: s.tips,
    deductions: 0,
    netPay: gross + s.tips,
    period: "Feb 1 – Feb 15, 2025",
  }
})

// ─── API response wrappers ────────────────────────────────────────────────────
export const RESPONSES = {
  jobs: {
    jobs: DEMO_JOBS,
    data: DEMO_JOBS,
    total: DEMO_JOBS.length,
    page: 1,
    limit: 50,
    stats: {
      total: DEMO_JOBS.length,
      scheduled: DEMO_JOBS.filter((j) => j.status === "scheduled").length,
      in_progress: DEMO_JOBS.filter((j) => j.status === "in_progress").length,
      completed: DEMO_JOBS.filter((j) => j.status === "completed").length,
      cancelled: DEMO_JOBS.filter((j) => j.status === "cancelled").length,
    },
    todayJobs: DEMO_JOBS.filter((j) => j.scheduledDate?.slice(0, 10) === dateStr(0)),
    upcomingJobs: DEMO_JOBS.filter((j) => j.status === "scheduled").slice(0, 5),
  },
  customers: {
    customers: DEMO_CUSTOMERS,
    data: DEMO_CUSTOMERS,
    total: DEMO_CUSTOMERS.length,
    page: 1,
    limit: 50,
    stats: {
      total: DEMO_CUSTOMERS.length,
      active: DEMO_CUSTOMERS.filter((c) => c.jobCount > 0).length,
      totalRevenue: DEMO_CUSTOMERS.reduce((s, c) => s + c.totalSpent, 0),
    },
  },
  invoices: {
    invoices: DEMO_INVOICES,
    data: DEMO_INVOICES,
    total: DEMO_INVOICES.length,
    page: 1,
    limit: 50,
    totalRevenue: DEMO_INVOICES.filter((i) => i.status === "paid").reduce((s, i) => s + i.total, 0),
    pendingAmount: DEMO_INVOICES.filter((i) => i.status === "pending").reduce((s, i) => s + i.total, 0),
    overdueAmount: DEMO_INVOICES.filter((i) => i.status === "overdue").reduce((s, i) => s + i.total, 0),
  },
  estimates: {
    estimates: DEMO_ESTIMATES,
    data: DEMO_ESTIMATES,
    total: DEMO_ESTIMATES.length,
    stats: {
      draft: DEMO_ESTIMATES.filter((e) => e.status === "draft").length,
      sent: DEMO_ESTIMATES.filter((e) => e.status === "sent").length,
      accepted: DEMO_ESTIMATES.filter((e) => e.status === "accepted").length,
    },
  },
  payments: {
    payments: DEMO_PAYMENTS,
    data: DEMO_PAYMENTS,
    total: DEMO_PAYMENTS.length,
    totalAmount: DEMO_PAYMENTS.reduce((s, p) => s + p.amount, 0),
  },
  team: {
    teamMembers: DEMO_TEAM,
    data: DEMO_TEAM,
    total: DEMO_TEAM.length,
    active: DEMO_TEAM.filter((m) => m.status === "active").length,
  },
  services: {
    services: DEMO_SERVICES,
    data: DEMO_SERVICES,
    total: DEMO_SERVICES.length,
    categories: ["Residential", "Commercial"],
  },
  territories: {
    territories: DEMO_TERRITORIES,
    data: DEMO_TERRITORIES,
    total: DEMO_TERRITORIES.length,
  },
  leads: {
    leads: DEMO_LEADS,
    data: DEMO_LEADS,
    total: DEMO_LEADS.length,
    stats: {
      new: DEMO_LEADS.filter((l) => l.status === "new").length,
      contacted: DEMO_LEADS.filter((l) => l.status === "contacted").length,
      quoted: DEMO_LEADS.filter((l) => l.status === "quoted").length,
      "follow-up": DEMO_LEADS.filter((l) => l.status === "follow-up").length,
      lost: DEMO_LEADS.filter((l) => l.status === "lost").length,
      totalEstimatedValue: DEMO_LEADS.reduce((s, l) => s + (l.estimatedValue || 0), 0),
    },
  },
  notifications: {
    notifications: DEMO_NOTIFICATIONS,
    data: DEMO_NOTIFICATIONS,
    unreadCount: DEMO_NOTIFICATIONS.filter((n) => !n.read).length,
    total: DEMO_NOTIFICATIONS.length,
  },
  analytics: DEMO_ANALYTICS,
  payroll: {
    payroll: DEMO_PAYROLL,
    data: DEMO_PAYROLL,
    total: DEMO_PAYROLL.length,
    period: "Feb 1 – Feb 15, 2025",
    totalGrossPay: DEMO_PAYROLL.reduce((s, p) => s + p.grossPay, 0),
    totalNetPay: DEMO_PAYROLL.reduce((s, p) => s + p.netPay, 0),
  },
  coupons: {
    coupons: DEMO_COUPONS,
    data: DEMO_COUPONS,
    total: DEMO_COUPONS.length,
    active: DEMO_COUPONS.filter((c) => c.active).length,
  },
  recurring: {
    recurringBookings: DEMO_RECURRING,
    data: DEMO_RECURRING,
    total: DEMO_RECURRING.length,
    active: DEMO_RECURRING.filter((r) => r.active).length,
  },
  schedule: {
    jobs: DEMO_JOBS,
    data: DEMO_JOBS,
    total: DEMO_JOBS.length,
  },
  userProfile: {
    ...DEMO_USER,
    businessSettings: {
      currency: "USD",
      timezone: "America/Chicago",
      logo: null,
      primaryColor: "#1a1a2e",
      taxRate: 9,
      invoicePrefix: "INV",
      estimatePrefix: "EST",
    },
    subscription: {
      plan: "pro",
      status: "active",
      renewalDate: dateStr(45),
      seats: 10,
      usedSeats: 6,
    },
  },
  dashboard: {
    stats: {
      totalRevenue: 24360,
      revenueChange: 12.4,
      totalJobs: 186,
      jobsChange: 8.2,
      activeCustomers: 11,
      customersChange: 3,
      pendingInvoices: 735.90,
      overdueInvoices: 110,
    },
    todayJobs: DEMO_JOBS.filter((j) => ["scheduled", "in_progress"].includes(j.status)).slice(0, 5),
    recentJobs: DEMO_JOBS.slice(0, 8),
    upcomingJobs: DEMO_JOBS.filter((j) => j.status === "scheduled").slice(0, 6),
    recentPayments: DEMO_PAYMENTS.slice(0, 5),
    newLeads: DEMO_LEADS.filter((l) => l.status === "new"),
    revenueByMonth: months.map((m, i) => ({ month: m, revenue: [2840, 3120, 3400, 4200, 3750, 3620, 3430][i] })),
  },
  availability: {
    availability: [],
    slots: DEMO_TEAM.map((m) => ({
      teamMember: m,
      slots: [
        { date: dateStr(1), times: ["09:00", "11:00", "14:00"] },
        { date: dateStr(2), times: ["09:00", "13:00"] },
        { date: dateStr(3), times: ["10:00", "14:00"] },
      ],
    })),
  },
  // Generic success for write operations
  success: { success: true, message: "Demo mode — no changes persisted." },
}

// ─── URL → response matcher ───────────────────────────────────────────────────
export function matchDemoResponse(url = "", method = "get") {
  // Write ops always succeed silently
  if (["post", "put", "patch", "delete"].includes(method.toLowerCase())) {
    return RESPONSES.success
  }

  if (/\/dashboard/.test(url))       return RESPONSES.dashboard
  if (/\/schedule/.test(url))        return RESPONSES.schedule
  if (/\/jobs/.test(url))            return RESPONSES.jobs
  if (/\/customers/.test(url))       return RESPONSES.customers
  if (/\/invoices/.test(url))        return RESPONSES.invoices
  if (/\/estimates/.test(url))       return RESPONSES.estimates
  if (/\/payments/.test(url))        return RESPONSES.payments
  if (/\/team/.test(url))            return RESPONSES.team
  if (/\/services/.test(url))        return RESPONSES.services
  if (/\/territories/.test(url))     return RESPONSES.territories
  if (/\/leads/.test(url))           return RESPONSES.leads
  if (/\/notifications/.test(url))   return RESPONSES.notifications
  if (/\/analytics/.test(url))       return RESPONSES.analytics
  if (/\/payroll/.test(url))         return RESPONSES.payroll
  if (/\/coupons/.test(url))         return RESPONSES.coupons
  if (/\/recurring/.test(url))       return RESPONSES.recurring
  if (/\/user-profile/.test(url))    return RESPONSES.userProfile
  if (/\/availability/.test(url))    return RESPONSES.availability
  if (/\/service-templates/.test(url)) return { templates: [] }
  if (/\/settings/.test(url))        return { settings: {} }
  if (/\/branding/.test(url))        return { branding: { primaryColor: "#1a1a2e", logo: null } }
  if (/\/business/.test(url))        return RESPONSES.userProfile
  if (/\/stats/.test(url))           return RESPONSES.dashboard.stats

  return RESPONSES.success
}
